var TYMP=function(r){"use strict";function t(r,t,e,n,o){for(var i=0,u=0,f=0;f<o;f++)if(f!==e){for(var a=0;a<o;a++)a!==n&&(t[i][u]=r[f][a],++u);++i}}function e(r){for(var t=[],e=0;e<r;++e)t[e]=new Float32Array(r);return t}function n(r,o){if(1===o)return r[0][0];if(2===o)return r[0][0]*r[1][1]-r[0][1]*r[1][0];if(3===o)return r[0][0]*r[1][1]*r[2][2]+r[0][1]*r[1][2]*r[2][0]+r[0][2]*r[1][0]*r[2][1]-r[0][2]*r[1][1]*r[2][0]-r[0][1]*r[1][0]*r[2][2]-r[0][0]*r[1][2]*r[2][1];for(var i=1,u=0,f=e(o),a=0;a<o;++a)t(r,f,0,a,o),u+=i*r[0][a]*n(f,o-1),i=-i;return u}function o(r,o){var i=r.length,u=r[0],f=[];o=o||new Float32Array(i+1);for(var a=1;a<i;++a){for(var s=r[a],v=[],h=0;h<i;++h)v[h]=s[h]-u[h];f.push(v)}return function(r,o){var i=r[0].length;if(o=o||new Float32Array(i),3===i){var u=r[0],f=r[1],a=u[0],s=u[1],v=u[2],h=f[0],c=f[1],l=f[2];o[0]=s*l-v*c,o[1]=v*h-a*l,o[2]=a*c-s*h}else for(var g=i%2?-1:1,p=e(i),d=0;d<i;++d)t(r,p,i-1,d,i),o[d]=g*n(p,i-1),g=-g}(f,o),o[i]=-function(r,t){for(var e=r.length,n=r[0]*t[0],o=1;o<e;++o)n+=r[o]*t[o];return n}(u,o),function(r){for(var t=r.length,e=r[0]*r[0],n=1;n<t-1;++n)e+=r[n]*r[n];if(0===e)return r;for(e=1/Math.sqrt(e),n=0;n<t;++n)r[n]*=e}(o),o}function i(r,t){for(var e=r.length,n=t[e],o=0;o<e;++o)n+=r[o]*t[o];return n}function u(r,t){var e=r.pop();if(e===t)return r.length;var n=r.indexOf(t);if(-1===n)throw r.push(e),new Error("Removing component that's not present");return r[n]=e,n}var f=function(r){this.verts=[],this.facet=r},a=function(){this.ridges=[]},s=function(){this.outsideSet=[],this.outsideDist=[]};function v(){var r=new a;return r.meta=new s,r}function h(r){var t=r.meta,e=t.outsideSet,n=t.outsideDist,o=e.length;if(0===o)return-1;for(var i=e[0],u=n[0],f=1;f<o;++f)n[f]>u&&(u=n[f],i=e[f]);return i}function c(r,t,e){var n=r.ridges.map((function(r){return t[r.verts[0]]})),u=r.plane=o(n);i(e,u)>0&&(!function(r){for(var t=r.length,e=0;e<t;++e)r[e]=-r[e]}(u),r.ridges.reverse(),r.ridges.forEach((function(r){return r.verts.reverse()})))}function l(r,t,e){for(var n=t.verts,o=n.length,i=0,u=e;i<u.length;i++)for(var f=0,a=u[i].ridges;f<a.length;f++){var s=a[f];if(!s.neighbor){for(var v=s.verts.indexOf(n[0]),h=v>=0,c=1;h&&c<o;)v=(v+1)%o,h=s.verts[v]==n[c],++c;if(h)return t.neighbor=s,void(s.neighbor=t)}}}function g(r,t,e){for(var n=e.map((function(r){return[]})),o=r.length,u=0;u<o;++u)for(var f=r[u],a=t[f],s=0,v=e;s<v.length;s++){var h=v[s],c=i(a,h.plane);if(c>0){var l=h.meta;l.outsideSet.push(f),l.outsideDist.push(c);break}}return n}function p(r,t,e,n){e.push(t),t.meta.currentPoint=r;for(var o=0,u=t.ridges;o<u.length;o++){var f=u[o],a=f.neighbor.facet;a.meta.currentPoint!==r&&(i(r,a.plane)>0?p(r,a,e,n):n.push(f))}}function d(r,t,e,n,o,i){var u=v(),a=r.verts.slice();a.push(t),u.ridges.push(r),r.facet=u;for(var s=1;s<i;++s){for(var h=new f(u),g=0;g<i-1;++g)h.verts[g]=a[(s+g)%i];l(0,h,n),u.ridges.push(h)}return c(u,e,o),u}function m(r,t,e,n,o){for(var i=[],u=0,f=e;u<f.length;u++){var a=d(f[u],t,r,i,n,o);i.push(a)}return i}return r.quickHull=function(r){if(0!==r.length){var t=function(r){return r.length}(r[0]);r.length<=t&&console.log("A convex hull in "+t+" dimensions requires at least "+(t+1)+" points.");for(var e=r[0].slice(),n=0;n<t;++n){for(var o=1;o<=t;++o)e[n]+=r[o][n];e[n]/=t+1}var i=function(r,t,e){for(var n=[],o=t+1,i=[],u=0;u<=t;++u){for(var a=v(),s=0;s<t;++s)i[s]=(u+s)%o;for(var h=0;h<t;++h){var g=a.ridges[h]=new f(a);for(s=0;s<t-1;++s)g.verts[s]=i[(h+s)%t];l(0,g,n)}c(a,r,e),n.push(a)}return n}(r,t,e),a=[];for(o=t+1;o<r.length;++o)a.push(o);g(a,r,i);for(var s=!1;!s;){s=!0;for(o=0;o<i.length;++o){var d=i[o],w=h(d);if(-1!==w){u(d.meta.outsideSet,w);var b=[],S=[];p(r[w],d,b,S);for(var y=m(r,w,S,e,t),A=0,P=b;A<P.length;A++){var q=P[A];u(i,q)<=o&&--o,g(q.meta.outsideSet,r,y),q.meta.outsideSet.length>0&&(s=!1)}i.push.apply(i,y)}}}return i.forEach((function(r){return r.meta=null})),i}},Object.defineProperty(r,"__esModule",{value:!0}),r}({});
