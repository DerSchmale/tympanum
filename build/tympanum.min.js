var TYMP=function(r){"use strict";function e(r,e,t,n,o){for(var i=0,a=0,f=0;f<o;f++)if(f!==t){for(var u=0;u<o;u++)u!==n&&(e[i][a]=r[f][u],++a);++i}}function t(r){for(var e=[],t=0;t<r;++t)e[t]=new Float32Array(r);return e}function n(r,o){if(1===o)return r[0][0];if(2===o)return r[0][0]*r[1][1]-r[0][1]*r[1][0];if(3===o)return r[0][0]*r[1][1]*r[2][2]+r[0][1]*r[1][2]*r[2][0]+r[0][2]*r[1][0]*r[2][1]-r[0][2]*r[1][1]*r[2][0]-r[0][1]*r[1][0]*r[2][2]-r[0][0]*r[1][2]*r[2][1];for(var i=1,a=0,f=t(o),u=0;u<o;++u)e(r,f,0,u,o),a+=i*r[0][u]*n(f,o-1),i=-i;return a}function o(r,o){var i=r.length,a=r[0],f=[];o=o||new Float32Array(i+1);for(var u=1;u<i;++u){for(var v=r[u],s=[],h=0;h<i;++h)s[h]=v[h]-a[h];f.push(s)}return function(r,o){var i=r[0].length;if(o=o||new Float32Array(i),3===i){var a=r[0],f=r[1],u=a[0],v=a[1],s=a[2],h=f[0],l=f[1],c=f[2];o[0]=v*c-s*l,o[1]=s*h-u*c,o[2]=u*l-v*h}else for(var g=i%2?-1:1,p=t(i),d=0;d<i;++d)e(r,p,i-1,d,i),o[d]=g*n(p,i-1),g=-g}(f,o),o[i]=-function(r,e){for(var t=r.length,n=r[0]*e[0],o=1;o<t;++o)n+=r[o]*e[o];return n}(a,o),function(r){for(var e=r.length,t=r[0]*r[0],n=1;n<e-1;++n)t+=r[n]*r[n];if(0===t)return r;for(t=1/Math.sqrt(t),n=0;n<e;++n)r[n]*=t}(o),o}function i(r,e){for(var t=r.length,n=e[t],o=0;o<t;++o)n+=r[o]*e[o];return n}var a=function(r){this.verts=[],this.facet=r},f=function(){this.ridges=[]};function u(r,e,t){for(var n=e.verts,o=n.length,i=0,a=t;i<a.length;i++)for(var f=0,u=a[i].ridges;f<u.length;f++){var v=u[f];if(!v.neighbor){for(var s=v.verts.indexOf(n[0]),h=s>=0,l=1;h&&l<o;)s=(s+1)%o,h=v.verts[s]==n[l],++l;if(h)return e.neighbor=v,void(v.neighbor=e)}}}function v(r,e,t){var n=r.ridges.map((function(r){return e[r.verts[0]]})),a=r.plane=o(n);if(t&&i(t,a)>0){!function(r){for(var e=r.length,t=0;t<e;++t)r[t]=-r[t]}(a),r.ridges.reverse();for(var f=0,u=r.ridges;f<u.length;f++){u[f].verts.reverse()}}}function s(r,e){for(var t=[],n=e+1,o=[],i=0;i<=e;++i){for(var s=new f,h=0;h<e;++h)o[h]=(i+h)%n;for(var l=0;l<e;++l){var c=s.ridges[l]=new a(s);for(h=0;h<e-1;++h)c.verts[h]=o[(l+h)%e];u(0,c,t)}v(s,r,r[(i+e)%(e+1)]),t.push(s)}return t}function h(r,e){var t=r.pop();if(t===e)return r.length;var n=r.indexOf(e);if(-1===n)throw r.push(t),new Error("Removing component that's not present");return r[n]=t,n}var l=function(){this.outsideSet=[],this.outsideDist=[]};function c(r){var e=r.meta,t=e.outsideSet,n=e.outsideDist,o=t.length;if(0===o)return-1;for(var i=t[0],a=n[0],f=1;f<o;++f)n[f]>a&&(a=n[f],i=t[f]);return i}function g(r,e,t){for(var n=t.map((function(r){return[]})),o=r.length,a=0;a<o;++a)for(var f=r[a],u=e[f],v=0,s=t;v<s.length;v++){var h=s[v],l=i(u,h.plane);if(l>0){var c=h.meta;c.outsideSet.push(f),c.outsideDist.push(l);break}}return n}function p(r,e,t,n){t.push(e),e.meta.currentPoint=r;for(var o=0,a=e.ridges;o<a.length;o++){var f=a[o],u=f.neighbor.facet;u.meta.currentPoint!==r&&(i(r,u.plane)>0?p(r,u,t,n):n.push(f))}}function d(r,e,t,n,o,i){var s=new f;s.meta=new l;var h=r.verts.slice();h.push(e),s.ridges.push(r),r.facet=s;for(var c=1;c<i;++c){for(var g=new a(s),p=0;p<i-1;++p)g.verts[p]=h[(c+p)%i];u(0,g,n),s.ridges.push(g)}return v(s,t,o),s}function m(r,e,t,n,o){for(var i=[],a=0,f=t;a<f.length;a++){var u=d(f[a],e,r,i,n,o);i.push(u)}return i}return r.Facet=f,r.Ridge=a,r.createSimplex=s,r.quickHull=function(r){if(0!==r.length){var e=function(r){return r.length}(r[0]);r.length<=e&&console.log("A convex hull in "+e+" dimensions requires at least "+(e+1)+" points.");for(var t=s(r,e),n=0,o=t;n<o.length;n++){o[n].meta=new l}for(var i=function(r,e){for(var t=r[0].slice(),n=0;n<e;++n){for(var o=1;o<=e;++o)t[n]+=r[o][n];t[n]/=e+1}return t}(r,e),a=[],f=e+1;f<r.length;++f)a.push(f);g(a,r,t);for(var u=!1;!u;){u=!0;for(f=0;f<t.length;++f){var v=t[f],d=c(v);if(-1!==d){h(v.meta.outsideSet,d);var w=[],S=[];p(r[d],v,w,S);for(var b=m(r,d,S,i,e),y=0,x=w;y<x.length;y++){var A=x[y];h(t,A)<=f&&--f,g(A.meta.outsideSet,r,b),A.meta.outsideSet.length>0&&(u=!1)}t.push.apply(t,b)}}}for(var F=0,P=t;F<P.length;F++){P[F].meta=null}return t}},Object.defineProperty(r,"__esModule",{value:!0}),r}({});
